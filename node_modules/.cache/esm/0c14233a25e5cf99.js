let Conf,Table,configKey,validateApiKey,validateUnits,validateCityId,getWeatherForecast;_25e‍.x([["forecast",()=>forecast]]);_25e‍.w("conf",[["default",["Conf"],function(v){Conf=v}]]);_25e‍.w("cli-table3",[["default",["Table"],function(v){Table=v}]]);_25e‍.w("./configure",[["configKey",["configKey"],function(v){configKey=v}]]);_25e‍.w("./utils",[["validateApiKey",["validateApiKey"],function(v){validateApiKey=v}],["validateUnits",["validateUnits"],function(v){validateUnits=v}],["validateCityId",["validateCityId"],function(v){validateCityId=v}],["getWeatherForecast",["getWeatherForecast"],function(v){getWeatherForecast=v}]]);




       const forecast = async args => {
    const config = new Conf().get(configKey)
    const apiKey = args.apiKey || args.apikey || args.key || args['api-key'] || config.apiKey || args.k;
    if (!validateApiKey(apiKey)) {
        return;
    }
    const cityId =
        args.city ||
        args.cityId ||
        args.cityID ||
        args['city-id'] ||
        args.c ||
        config.cityId;

    if (!validateCityId(cityId)) {
        return;
    }

    const units = args.units || args.unit || args.u || config.units;

    if (!validateUnits(units)) {
        return;
    }

    const {data} = await getWeatherForecast(apiKey, cityId, units);

    const table = new Table({
        head: ['DateTime', 'Weather', 'Temp'],
        colWidths: [23, 18, 17],
        wordWrap: true
    });

    data.list.forEach(weather =>{
        table.push([
            weather.dt_txt,
            weather.weather[0].description,
            weather.main.temp
        ]);
    });
    _25e‍.g.console.log(table.toString());
}